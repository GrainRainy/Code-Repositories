# 例题

## [洛谷p1120 - 小木棍](https://www.luogu.com.cn/problem/P1120)

### $dfs$ 思路

从木棍长度下界到木棍长度上界枚举木棍拼出的总长，再按字典序尝试拼接

### 剪枝优化

1. 总长度一定为木棍长度的倍数
2. 优化搜索顺序：
   按木棍长度从大到小枚举，使 $dfs$ 树枝尽量小
3. 排除等效冗余：
   1. 按组合数[^1]枚举(1, 2, 3 和 2, 1, 3 等效)，在实际 $dfs$ 过程中，多传入一个参数 $nxt$ 记录下一根木棒下标。保证被拼接的木棍数组下标递增
   2. 当枚举一根木棍失败后，跳过所有等长木棍
   3. 当一根木棍作为第一根拼接时失败，则跳过当前分支，因为剩下的所有木棍与这根木棍都是等效的
   4. 

[^1]:与排列数相对，组合数将顺序相同的情况视为一种情况