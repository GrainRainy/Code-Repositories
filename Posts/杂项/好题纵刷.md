# 好题纵刷

纵刷，意味着以难度为第一关键字。

## 各省省选 蓝

### [CSP-S2022 假期计划](https://www.luogu.com.cn/problem/P8817)

最暴力的想法是 $O(n^4)$ 地枚举路径点，但复杂度最多允许枚举两个点。

考虑优化，一个形如 $1 \to a \to b \to c \to d \to 1$ 的路径，如果确定了 $1 \to a \to b \to c$，$d$ 的选择贪心即可：选择一个相对于 $1$ 和 $c$ 都能在 $k$ 步内到达的点，使该点点权最大即可。

对称地，$a$ 也可以通过以上贪心得出。于是仅需枚举两个点 $O(n^2)$ 即可。

具体实现上，$bfs$ 预处理出每个点 $k$ 步内能到达的点。为了满足题目中所说的不能访问已经过的点，需要进行去重。存储 $f_{i, j}$ 表示距 $i$ $k$ 步内且距 $1$ $k$ 步内点权第 $j$ 大的点，去重后更新答案即可。

### [JSOI2015 套娃](https://www.luogu.com.cn/problem/P6093)

从相比一个不套，套娃能够减少的贡献的角度考虑会简单很多。

于是有这样一个贪心策略：按照 $B_i$ 排序，先使 $ans = \sum B_i \times in_i$，每次选小于等于当前内径的娃套在里面。即每次减去 $out_j \times B_i$

## 各省省选 紫

## arc 

## cf div.2