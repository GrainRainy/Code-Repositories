# 树哈希

## pre: xor shift

```cpp
mt19937_64 mt(chrono::system_clock::now().time_since_epoch().count());
const ULL msk = mt();
ULL xrsft(ULL x) {
	x ^= msk, x ^= x << 13, x ^= x >> 7;
	x ^= x << 17, x ^= msk;
	return x;
}
```

## 有根树的树哈希

https://uoj.ac/problem/763

```cpp
void sol(int u, int fa) {
	hsh[u] = 1;
	for (int i = head[u], v; ~i; i = edge[i].nxt)
		if ((v = edge[i].to) != fa) sol(v, u), hsh[u] += xrsft(hsh[v]);
	st.insert(hsh[u]);
}
```

## 无根树树哈希

